<script src="Acteur.js"></script>
<script src="Scene.js"></script>
<script src="Sol.js"></script>
<script src="AcPhysic.js"></script>
<script src="Balle.js"></script>
<script src="AcAnimated.js"></script>
<script src="Eau.js"></script>
<script src="Bonhomme.js"></script>
<script src="mur.js"></script>
<div id="TerrainDeJeu" onkeydown="onKeyDown(event)"></div>

<script>
    //on crée une scène
    var scene = new Scene();

    //test d'instanciation  de la classe acteur
    var a1 = new Acteur("images/ballerouge.png",200,100);
    scene.add(a1);

    //test instanciation de la classe sol
    scene.add(new Sol(232, 200));

    //test methode moveTo
    a1.moveTo(200, 100);
    
/*
    //test instanciation de la classe AcPhysic
    var b = new Balle(
        "images/ballerouge.png", 
        232, 300,
        2,-3,
        0,0.01);

    scene.add(b);

    //explosion de balle
    scene.add(new Balle("images/ballerouge.png", 264,300,1,-10,0,0.1))
    for(var i=0; i<10; i++){
        scene.add(new AcPhysic("images/ballerouge.png",
        264,600,
        Math.random() * 6 - 6,Math.random()*-10));
    }
*/
    //test d'un acAnimated
    var bonhomme = new Bonhomme(400,300);
    scene.add(bonhomme);

    //Création d'un sol a cote du lac.
    var x=200;
    for(var i=0; i<20; i++){
        scene.add(new Sol(x,332));
        x+= 32;
    }
    //création d'un petit lac
    for(var i=0; i<10; i++)
    {
        scene.add(new Eau(x, 332));
        x += 32;
    }

    //Ajoutd'un mur
    scene.add(new Mur(500, 300));
    scene.add(new Mur(500, 268));

    //création d'un timer tous les 10 ms
    var xb = 200;
    setInterval(() => {
        scene.onTimer();
    }, 10);

    //Gestion des touches du clavier.
    document.onkeydown = function (event)
    {
        scene.onKeyDown(event.keyCode);
        return false;
    }

    var mur8 =(new Mur(300,300));
    var mur9 =(new Mur(300,268));

    scene.add(mur8);
    scene.add(mur9);

    console.log(scene.whoIsCollisioningwith(mur8));

</script>